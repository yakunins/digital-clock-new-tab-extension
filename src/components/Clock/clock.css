.clock {
    --clock-color: var(--color, rgba(150, 250, 220, 1));
    --clock-font-size: calc(2.5rem * var(--scale));
    --clock-frame-offset: calc(var(--clock-font-size) * -1);
    --clock-frame-opacity: 0.1;
    --clock-shine-offset: calc(var(--clock-font-size) * -1);
    --clock-gap: calc(var(--thickness, 0.75rem) * 0.5 + 0.5rem);

    --blur-size: calc(var(--s-1px) * 0.65);
    --glow-size: 3rem;
    --glow-opacity: 100%;
    --glow-color: color-mix(
        in srgb,
        transparent,
        var(--clock-color) var(--glow-opacity)
    );
    --glow-color-10: color-mix(in srgb, transparent, var(--glow-color) 10%);
    --glow-color-25: color-mix(in srgb, transparent, var(--glow-color) 25%);
    --glow-color-33: color-mix(in srgb, transparent, var(--glow-color) 33%);
    --glow-color-50: color-mix(in srgb, transparent, var(--glow-color) 50%);
    --glow-color-75: color-mix(in srgb, transparent, var(--glow-color) 75%);

    color: var(--clock-color);
    display: flex;
    font-size: var(--clock-font-size);
    gap: var(--clock-gap);
    margin-bottom: calc(2 * var(--clock-gap));
    position: relative;
    transform: skew(-2deg, -1deg);

    .clock-frame {
        border: 1px solid var(--clock-color);
        border-radius: calc(-1 * var(--clock-frame-offset) + 0.5rem);
        opacity: var(--clock-frame-opacity, 0.2);
        position: absolute;
        top: calc(var(--clock-frame-offset) * 0.92);
        bottom: calc(var(--clock-frame-offset) * 0.92);
        left: var(--clock-frame-offset);
        right: var(--clock-frame-offset);
        transition: all 1s;
    }

    .clock-shine {
        --g-1: radial-gradient(
            circle at 25% 50%,
            var(--clock-color) 0%,
            transparent 25%
        );
        --g-2: radial-gradient(
            circle at 75% 50%,
            var(--clock-color) 0%,
            transparent 25%
        );
        background: var(--g-1), var(--g-2);
        filter: blur(calc(var(--glow-size) * 2 + var(--length)));
        opacity: calc(var(--glow-opacity, 1) * 0.65);
        overflow: visible;
        position: absolute;
        top: calc(var(--clock-shine-offset) * 0.92);
        bottom: calc(var(--clock-shine-offset) * 0.92);
        left: var(--clock-shine-offset);
        right: var(--clock-shine-offset);
        transition: all 1s;
    }
    .digit {
        filter: drop-shadow(0 0 calc(var(--glow-size) / 2) var(--glow-color-25))
            blur(var(--blur-size));
    }
    .digit.ampm,
    .digit.colon {
        margin-left: -0.25rem;
        margin-right: -0.25rem;
    }
    .digit.colon.blinking {
        filter: drop-shadow(0 0 calc(var(--glow-size) * 2) var(--glow-color-50))
            blur(var(--blur-size));
    }

    .in-n-out {
        &.fade-in,
        &.fade-out {
            transition-property: opacity;
            transition-duration: var(--stage-1-duration, 0.2s);
        }

        &.in-end,
        &.out-start,
        &.fade-in {
            opacity: 1;
        }
        &.out-end,
        &.in-start,
        &.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        &.width-in,
        &.width-out {
            opacity: 0;
        }
        &.in-end,
        &.out-start,
        &.width-in {
            margin-left: 0;

            .digit.ampm {
                margin-right: -1.5rem;
            }
        }
        &.out-end,
        &.in-start,
        &.width-out {
            margin-left: calc(var(--clock-gap) * -1);

            .digit.ampm {
                margin-right: calc(var(--length) * -1.25);
            }
        }
    }
    .digit.ampm {
        margin-right: -1.5rem;
    }
    .digit.ampm,
    .in-n-out {
        transition-property: margin-right, margin-left;
        transition-duration: var(--stage-0-duration, 0.2s);
    }
}
